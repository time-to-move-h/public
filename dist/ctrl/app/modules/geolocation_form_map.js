"use strict";define(["jquery","places"],function(o,n){return function(){var t={input_map:"#input-map",map_container:"map-container",$loc_lat:document.querySelector("#latitude"),$loc_lng:document.querySelector("#longitud"),map:null,osmLayer:null,markers:[],init:function(){var e=n({container:document.querySelector(t.input_map),language:"en",countries:["nl"],aroundLatLngViaIP:!1});return t.map=L.map(t.map_container,{scrollWheelZoom:!0,zoomControl:!0}),t.osmLayer=new L.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:1,attribution:'Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'}),t.map.setView(new L.LatLng(0,0),1),t.map.addLayer(t.osmLayer),e.on("suggestions",this.handleOnSuggestions),e.on("cursorchanged",this.handleOnCursorchanged),e.on("change",this.handleOnChange),e.on("clear",this.handleOnClear),this},removeMarker:function(e){t.map.removeLayer(e)},handleOnSuggestions:function(e){t.markers.forEach(t.removeMarker),t.markers=[],0!==e.suggestions.length?(e.suggestions.forEach(t.addMarker),t.findBestZoom()):t.map.setView(new L.LatLng(0,0),1)},handleOnChange:function(a){t.markers.forEach(function(e,n){n===a.suggestionIndex?(t.markers=[e],e.setOpacity(1),t.findBestZoom()):t.removeMarker(e)}),console.log(a.suggestion),o("#country").val(a.suggestion.country),o("#state").val(a.suggestion.administrative),void 0!==a.suggestion.city?o("#city").val(a.suggestion.city):"city"===a.suggestion.type&&o("#city").val(a.suggestion.name),void 0!==a.suggestion.postcode?o("#postcode").val(a.suggestion.postcode):o("#postcode").val(""),"address"===a.suggestion.type?o("#addr1").val(a.suggestion.name):o("#addr1").val("");var e=a.suggestion.latlng.lat,n=a.suggestion.latlng.lng;t.$loc_lat.value=e,t.$loc_lng.value=n},handleOnClear:function(){t.map.setView(new L.LatLng(0,0),1),t.markers.forEach(t.removeMarker),o("#country").val(""),o("#state").val(""),o("#city").val(""),o("#addr1").val(""),o("#postcode").val(""),t.$loc_lat.value="",t.$loc_lng.value=""},handleOnCursorchanged:function(a){t.markers.forEach(function(e,n){n===a.suggestionIndex?(e.setOpacity(1),e.setZIndexOffset(1e3)):(e.setZIndexOffset(0),e.setOpacity(.5))})},addMarker:function(e){var n=L.marker(e.latlng,{opacity:.4});n.addTo(t.map),t.markers.push(n)},findBestZoom:function(){var e=L.featureGroup(t.markers);t.map.fitBounds(e.getBounds().pad(.5),{animate:!1})}};return t}});