requirejs(["jquery","parsley","jqsobject","c/jqvmap/jquery.vmap.min","c/jqvmap/maps/jquery.vmap.world","app/modules/signup_invite"],function(e,t,n,i,l,s){function d(){document.getElementById("form_success").style.visibility="hidden",document.getElementById("form_success").style.display="none",document.getElementById("error_exists").style.visibility="hidden",document.getElementById("error_exists").style.display="none",document.getElementById("error_unknown").style.visibility="hidden",document.getElementById("error_unknown").style.display="none"}function o(){document.getElementById("error_unknown").style.visibility="visible",document.getElementById("error_unknown").style.display="block"}e(document).ready(function(){var e=document.getElementById("email");e.addEventListener("change",function(){""===e.value&&(document.getElementById("email").value="",d(),e.focus())})}),$(document).on("submit","#fsubscribe",function(e){try{if(!$(this).parsley().isValid())return;var t=$(this).serializeJSON();if(0===Object.keys(t).length)return;console.log(t),document.getElementById("bsubmit").disabled=!0,d(),s(this,function(e,t){document.getElementById("bsubmit").disabled=!1,null!==t&&!0===t.result?($("#email").val(""),document.getElementById("form_success").style.visibility="visible",document.getElementById("form_success").style.display="block"):null!==t&&!1===t.result&&307===t.code?(document.getElementById("error_exists").style.visibility="visible",document.getElementById("error_exists").style.display="block"):o()},t)}finally{e.preventDefault()}})});