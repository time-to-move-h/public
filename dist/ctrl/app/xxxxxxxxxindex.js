requirejs(["jquery","parsley","jqsobject","c/jqvmap/jquery.vmap.min","c/jqvmap/maps/jquery.vmap.world","app/modules/signup_invite"],function(t,e,n,l,i,s){function o(){document.getElementById("form_success").style.visibility="hidden",document.getElementById("form_success").style.display="none",document.getElementById("error_exists").style.visibility="hidden",document.getElementById("error_exists").style.display="none",document.getElementById("error_unknown").style.visibility="hidden",document.getElementById("error_unknown").style.display="none"}function d(){document.getElementById("error_unknown").style.visibility="visible",document.getElementById("error_unknown").style.display="block"}t(document).ready(function(){t("#vmap").vectorMap({map:"world_en",backgroundColor:"rgba(0, 0, 255, 0)",hoverColor:"#EE2525",selectedColor:"#EE2525",enableZoom:!0,selectedRegions:"BE",onRegionClick:function(e,t,n){document.getElementById("country").value=""+t.toUpperCase()}});var e=document.getElementById("email");e.addEventListener("change",function(){""===e.value&&(document.getElementById("email").value="",o(),e.focus())})}),$(document).on("submit","#fsubscribe",function(e){try{if(!$(this).parsley().isValid())return;var t=$(this).serializeJSON();if(0===Object.keys(t).length)return;document.getElementById("bsubmit").disabled=!0,o(),s(this,function(e,t){document.getElementById("bsubmit").disabled=!1,null!==t&&!0===t.result?($("#email").val(""),document.getElementById("form_success").style.visibility="visible",document.getElementById("form_success").style.display="block"):null!==t&&!1===t.result&&307===t.code?(document.getElementById("error_exists").style.visibility="visible",document.getElementById("error_exists").style.display="block"):d()},t)}finally{e.preventDefault()}})});