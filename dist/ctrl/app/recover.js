"use strict";requirejs(["jquery","parsley","parsley/fr","jqsobject","app/modules/Profile"],function(t,e,n,i,l){var s={fname:"frecover",panel_form:"sub_form",panel_success:"sub_success",panel_failed:"sub_failed",$error_unknown:"error_unknown",$btn_submit:"bsubmit",$p1:"p1",$p2:"p2",profile:null,init:function(){this.profile=new l,document.getElementById(this.fname).onsubmit=function(){try{s.onSubmitForm()}catch(e){}finally{return!1}}},onRecover:function(e){try{this.disableBtn(),this.profile.resetPwd(this,function(e,t){null!==t&&!0===t.result?(document.getElementById(e.panel_success).style.visibility="visible",document.getElementById(e.panel_success).style.display="block"):(document.getElementById(e.panel_failed).style.visibility="visible",document.getElementById(e.panel_failed).style.display="block"),e.hideForm(),e.enableBtn()},e)}catch(e){console.log(e)}},onSubmitForm:function(){try{if(!t("#"+this.fname).parsley().isValid())return;var e=t("#"+this.fname).serializeJSON();e.P1&&e.P2&&this.onRecover(e)}catch(e){}},wall_redirect:function(){window.location.href="/login"},disableBtn:function(){document.getElementById(this.$btn_submit).disabled=!0},enableBtn:function(){document.getElementById(this.$btn_submit).disabled=!1},hideForm:function(){document.getElementById(this.panel_form).style.visibility="hidden",document.getElementById(this.panel_form).style.display="none"},showForm:function(){document.getElementById(this.panel_form).style.visibility="visible",document.getElementById(this.panel_form).style.display="block"}};s.init()});